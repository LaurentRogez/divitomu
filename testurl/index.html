<!doctype html>

<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

		<title>TEST URL - SCRIPT JS DANS WORDPRESS</title>
		
		<meta name="viewport" content="width=300, initial-scale=1">

		<style type="text/css">
			
			body {
				font-family: arial;
				letter-spacing: 1px;
			}
			
			a {
				text-decoration-color: #a2a2a2;
			}
			
			.message {
				color: purple;
				font-weight: bold;
				margin-top: 20px;
				margin-bottom: 20px;
			}
			
			#display {
				line-height: 25px;
			}
			
			.out {
				color: red;
				font-weight: bold;
			}
			
			.ok {
				color: #a2a2a2;
			}
			
			.sepa {
				background-color: #d1d1d1;
				height: 2px;
				width: 100%;
				margin-top: 10px;
				margin-bottom: 10px;
			}


		</style>

		<script language="JavaScript">
			
			
//			Affichage du résultat
			
			window.onload = function (){
			
//				testb();
			
				// Voir la structure du tableau x dans la console
				console.log(x);
				
				// HTML
				document.getElementById("display").innerHTML="<div class='sepa'><div>";
				
				for (var i = 0; i < x.length; i++) {
				  				  
				  document.getElementById("display").innerHTML+="<div class='message'>"+url[i]+"<div>";
				  
				  for (var ii = 0; ii < 4; ii++) {
				    
				    if ( x[i][ii][0]==0 ) document.getElementById("display").innerHTML+="<a href='"+x[i][ii][1]+"' target='_blank'><span class='ok'>"+x[i][ii][1]+"</span></a><br>";
					
					else document.getElementById("display").innerHTML+="<a href='"+x[i][ii][1]+"' target='_blank'><span class='out'>"+x[i][ii][1]+"</span></a><br>";
				  }
				  
				  document.getElementById("display").innerHTML+="<div class='sepa'><div>"; 
				}

			}
			
			

			
			
//			Liste des URL et de l'image à tester
			
			var url = [
				
				"altavia-group.com",
						
				"altavia-paris.com",
				
				"altavia-nantes.com",
				
				"altavia-optitrans.com",
				
				"altavia-instore.com",
				
				"altavia-aura.com",

				"altavia-coach.com",
				
				"altavia-fibervalue.com",
				
				"altavia-pallas.com",
				
				"altavia-shoppermind.com",
				
				"wetail.com",

				"altavia.cz",
				
				"altavia-baltics.com",
				
				"altavia-deutschland.com",
				
				"altavia.hu",
				
				"altaviaiberica.es",
				
				"altavia.pl",
				
				"altavia.ru",
				
				"altaviasumis.nl",
				
				"altavia.ua",
				
				"altavia-morocco.com",
				
				"altavia-prodity.ca",
				
				"altavia.jp"
			];
			
			
//			Déclaration du tableau x
			
			var x = new Array(url.length);
			
			for (var i = 0; i < x.length; i++) {
			  x[i] = new Array(4);
			}
			
			
//			Test sur les 4 possibilitées d'URL
			
			for( i=0; i<url.length; i++ ){
			     
				 test( "http://",url[i],i,0 );
				 test( "https://",url[i],i,1 );
				 test( "http://www.",url[i],i,2 );
				 test( "https://www.",url[i],i,3 );
			}
		
		    
			
//			Teste si l'image est accessible ou non
			
			function test(a,b,i,ii){
				
				script = document.createElement('script');
				
				script.src = a+b+"/wp-includes/js/admin-bar.js";
				
				document.head.append(script);
	
				script.onload = function(){  x[i][ii]=[0,a+b];}
		
				script.onerror = function(){  x[i][ii]=[1,a+b]; }
			}
			
		
		
		</script>
	
	</head>

	<body>
				
		<div class="message">
		
			Lecture d'un script dans WordPress : "/wp-includes/js/admin-bar.js"
			<br>
			<br>
			Afficher la console pour voir les codes erreurs. (Chromium)
		
		</div>
		
		<div id="display">Test des URL en cours<br><img src="loader.gif"></div>

	</body>
</html>
